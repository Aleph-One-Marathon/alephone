<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Aleph One HUD Scripters' Guide</title>
<style type="text/css">
      <!-- 
      body {
	  font-family: Verdana, Helvetica, sans-serif;
	  font-size: 9pt;
	  width: 800px;
      }
      a:link {
	  color: #006600;
      }

      a:visited {
	  color: #669966;
      }
      
      a:hover {
	  color: #009900;
      }

      h1 {
	  background-color: #EEEEEE;
	  border: thin solid #999999;
	  padding: 4px;
      }
      h2 {
	  color: #006600;
      }
      dt {
	  color: #006600;
	  margin-top: 4px;
	  margin-bottom: 4px;
      }
      
      h3 {
	  color: #003300;
	  margin-bottom: 4px;
	  padding-bottom: 1px;
	  border-bottom: thin solid;
      }

      h4 {
	  margin: 0px;
	  color: #003300;
      }

      div.tables p {
	  margin: 4px;
      }

	  div.tables > p {
	  margin-left: 0;
	  }

      p.note {
	  color: #666666;
	  font-style: italic;
      }

      ul {
	  list-style-type: none;
      }

      ul.args li {
	  margin: 10 px;
      }

      span.access {
	  color: #666666;
	  font-style: italic;
      }

      span.version {
	  color: #000066;
	  font-style: normal;
	  font-size: 8pt;
	  color: #FFFFFF;
	  background-color: #006600;
	  padding-left: 1px;
	  padding-right: 1px;
      }
      
      span.pre {
	  display: block;
	  margin: 4px 0;
	  white-space: pre-wrap;
      }

      div.end-mnemonics {
	  clear: both;
      }

      div.mnemonics-column {
	  float: left;
	  #width: 250px;
	  width: 33%;
      }

      ul.mnemonics li {
	  color: #006600;
      }

-->
      </style>
</head>
<body>
<h1>Table of Contents</h1>
<ol>
<li>
<a href="#general">General</a><ol>
<li><a href="#what_is_this">What is This?</a></li>
<li><a href="#loading_collections">Loading Collections</a></li>
</ol>
</li>
<li><a href="#triggers">Triggers</a></li>
<li>
<a href="#using_tables">Using Tables</a><ol>
<li><a href="#custom">Custom Fields</a></li>
<li><a href="#table_is">is_ Functions</a></li>
</ol>
</li>
<li>
<a href="#tables">Tables</a><ol>
<li><a href="#Colors">Colors</a></li>
<li><a href="#Fonts">Fonts</a></li>
<li><a href="#Game">Game</a></li>
<li><a href="#Images">Images</a></li>
<li><a href="#Level">Level</a></li>
<li><a href="#Lighting">Lighting</a></li>
<li><a href="#Player">Player</a></li>
<li><a href="#Screen">Screen</a></li>
<li><a href="#Shapes">Shapes</a></li>
</ol>
</li>
<li>
<a href="#types">Types and Mnemonics</a><ol>
<li><a href="#Collections">Collections</a></li>
<li><a href="#DifficultyTypes">Difficulty</a></li>
<li><a href="#FadeEffectTypes">Fade Effect Types</a></li>
<li><a href="#GameTypes">Game Types</a></li>
<li><a href="#InterfaceColors">Interface Colors</a></li>
<li><a href="#InterfaceFonts">Interface Fonts</a></li>
<li><a href="#InterfaceRects">Interface Rectangles</a></li>
<li><a href="#InventorySections">Inventory Sections</a></li>
<li><a href="#ItemTypes">Items</a></li>
<li><a href="#MaskingModes">Masking Modes</a></li>
<li><a href="#PlayerColors">Player and Team Colors</a></li>
<li><a href="#RendererTypes">Renderer Types</a></li>
<li><a href="#ScoringModes">Scoring Modes</a></li>
<li><a href="#SensorBlipTypes">Sensor Blip Types</a></li>
<li><a href="#SizePreferences">Size Preferences</a></li>
<li><a href="#TextureTypes">Texture Types</a></li>
<li><a href="#WeaponTypes">Weapons</a></li>
</ol>
</li>
</ol>
<h1>
<a name="general"></a>General</h1>
<h2>
<a name="what_is_this"></a>What is This?</h2>
        <p>This is a reference for writing Lua scripts to draw heads-up displays (HUDs) in Aleph One.</p>
        <p>This is not a reference for Lua itself - see lua.org for that.</p>
      <h2>
<a name="loading_collections"></a>Loading Collections</h2>
        <p>A Lua script can ask for the engine to load collections it might otherwise not load; for instance, in order to be able to draw defender and compiler shapes during a level that might not have them otherwise, add the indices for those collections to the global table CollectionsUsed:
        </p>
        <pre>CollectionsUsed = { 10, 16 }</pre>
      <h1>
<a name="triggers"></a>Triggers</h1>
<div class="triggers">
<p>These are functions scripts can define which Aleph One will call at specific times or events. For the HUD, the draw() trigger is the most important. For example, to write "Hello world" in the upper left corner of the screen:
<span class="pre">Triggers = {}
function Triggers.init()
  myFont = Fonts.new{size = 14}
end
function Triggers.draw()
  myFont:draw_text("Hello world", 50, 50, {1, 1, 1, 1});
end
</span>
</p>
<dl>
<dt>Triggers</dt>
<dd><dl>
<dt>.init()</dt>
<dd><p class="description">when a game session is started (after leaving the main menu)</p></dd>
<dt>.cleanup()</dt>
<dd><p class="description">when a game session is completed (before returning to the main menu)</p></dd>
<dt>.resize()</dt>
<dd><p class="description">when the window size changes in the middle of a game (with the F1/F2 keys)</p></dd>
<dt>.draw()</dt>
<dd>
<p class="description">at each game frame</p>
<p class="note">all screen drawing must be called from this trigger </p>
<p class="note">the screen is cleared before each frame </p>
</dd>
</dl></dd>
</dl>
</div>
<h1>
<a name="using_tables"></a>Using Tables</h1>
<p>There are numerous tables (technically, userdata) defined in Aleph One which scripts can use to access objects in the game. A complete list is below.</p>
<h2>
<a name="custom"></a>Custom Fields</h2>
<p>In a real Lua table, you can set any field you want. In order to help troubleshooting, Aleph One's userdata tables will only accept the fields listed in the documentation below. However, by prepending an underscore, custom fields can be indexed. These custom fields will be associated with the object until it is destroyed.</p>
<pre>Players[0]._favorite_flavor = "chocolate"</pre>
<h2>
<a name="table_is"></a>is_ Functions</h2>
<p>Aleph One installs a set of boolean functions that can be used to recognize each of the userdata table types. For example, <code>is_font(Fonts[1])</code> returns true. Each of these functions begins with the "is_" prefix.</p>
<h1><a name="tables">Tables</a></h1>
<div class="tables">
<h3>
<a name="Colors"></a>Colors</h3>
<dl>
<dt>Colors</dt>
<dd>
<p class="description">Colors are standard Lua tables; you don't need to call a new() method to create them. Colors have four fields, accessed by name or number. If a field is missing, it is assumed to be 1, which allows you to write opaque colors as {r, g, b}.</p>
<dl>
<dt>.r<br>.red<br>[1]</dt>
<dd><p class="description">red component, from 0 to 1</p></dd>
<dt>.g<br>.green<br>[2]</dt>
<dd><p class="description">green component, from 0 to 1</p></dd>
<dt>.b<br>.blue<br>[3]</dt>
<dd><p class="description">blue component, from 0 to 1</p></dd>
<dt>.a<br>.alpha<br>[4]</dt>
<dd><p class="description">alpha component (opacity), from 0 to 1</p></dd>
</dl>
</dd>
</dl>
<h3>
<a name="Fonts"></a>Fonts</h3>
<dl>
<dt>Fonts.new{ [file=] [, size=] [, style=]}</dt>
<dd>
<p class="description"></p>
<ul class="args">
<li>file: the path to a TTF file, for the standard variant of the font (the special path "mono" indicates the default Mono Sans font) [default: "mono"]</li>
<li>size: the font size to use [default: 12]</li>
<li>style: a number indicating the sum of any font styles to use (1 - bold; 2 - italic; 4 - underline) [default: 0]</li>
</ul>
</dd>
<dt>Fonts.new{id= [, size=] [, style=]}</dt>
<dd>
<p class="description"></p>
<ul class="args">
<li>id: a resource ID from the Fonts file (for the default Fonts file, valid values are 4 for Monaco and 22 for Courier)</li>
<li>size: the font size to use [default: 12]</li>
<li>style: a number indicating the sum of any font styles to use (1 - bold; 2 - italic; 4 - underline) [default: 0]</li>
</ul>
</dd>
<dt>Fonts.new{interface=} <span class="version">20140104</span>
</dt>
<dd>
<p class="description"></p>
<ul class="args"><li>interface: see InterfaceFonts for mnemonics</li></ul>
</dd>
<dt>Fonts[index]</dt>
<dd><dl>
      <dt>.id<span class="access"> (read-only)</span>
</dt>
<dd>
<p class="description"></p>
<p class="note">can be nil </p>
</dd>
      <dt>.file<span class="access"> (read-only)</span>
</dt>
<dd>
<p class="description"></p>
<p class="note">can be nil </p>
</dd>
      <dt>.size<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.style<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.line_height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.scale <span class="version">20140104</span>
</dt>
<dd>
<p class="description">scale factor, for resizing specific bitmap font sizes</p>
<p class="note">it's usually better to create a new font at the correct size instead </p>
</dd>
      <dt>:measure_text(string)</dt>
<dd><p class="description">returns the width and height of a string when drawn in this font</p></dd>
      <dt>:draw_text(string, x, y, color)</dt>
<dd>
<p class="description">draws a string to the screen</p>
<p class="note">transparency only available in OpenGL renderer </p>
</dd>
    </dl></dd>
</dl>
<h3>
<a name="Game"></a>Game</h3>
<dl>
<dt>Game</dt>
<dd>
<p class="note">all items in Game are read-only </p>
<dl>
<dt>.deserialize(s) <span class="version">git</span>
</dt>
<dd>
<p class="description">deserializes s and returns the original Lua value</p>
<p class="note">see Game.serialize (from the non-HUD scripter's guide) </p>
</dd>
<dt>.difficulty</dt>
<dd><p class="description">the difficulty level</p></dd>
<dt>.kill_limit</dt>
<dd><p class="description">the game kill limit, or nil if there is none</p></dd>
<dt>.time_remaining</dt>
<dd><p class="description">the number of ticks until the game ends, or nil if there is no time limit</p></dd>
<dt>.scoring_mode</dt>
<dd><p class="description">the current scoring mode (if the gametype is "custom")</p></dd>
<dt>.ticks</dt>
<dd><p class="description">ticks since game started</p></dd>
<dt>.type</dt>
<dd><p class="description">whether the game is EMFH, KOTH, etc.</p></dd>
<dt>.version</dt>
<dd>
<p class="description">the date version of the local player's engine</p>
<p class="note">for example, "20071103" </p>
</dd>
<dt>.players[index]</dt>
<dd><dl>
<dt>.active <span class="version">20111201</span>
</dt>
<dd><p class="description">true if this player's viewpoint is currently displayed</p></dd>
<dt>.color</dt>
<dd><p class="description">color of player (shirt color, if teams are enabled)</p></dd>
<dt>.kills</dt>
<dd><p class="description">player kills, not including suicides</p></dd>
<dt>.local_</dt>
<dd><p class="description">true if this player is the local player</p></dd>
<dt>.name</dt>
<dd><p class="description"></p></dd>
<dt>.ranking</dt>
<dd><p class="description">points or ticks, depending on game type</p></dd>
<dt>.team</dt>
<dd><p class="description">player's team (pants color)</p></dd>
</dl></dd>
</dl>
</dd>
</dl>
<h3>
<a name="Images"></a>Images</h3>
<dl>
<dt>Images.new{resource=}</dt>
<dd>
<p class="description"></p>
<ul class="args"><li>resource: a resource ID from the Images file</li></ul>
</dd>
<dt>Images.new{path= [, mask=]}</dt>
<dd>
<p class="description"></p>
<ul class="args">
<li>path: the path to the image file to use</li>
<li>mask: the path to an image file to use as an opacity mask</li>
</ul>
</dd>
<dt>Images[index]</dt>
<dd><dl>
      <dt>.width<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">width of the image in pixels</p></dd>
      <dt>.height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">height of the image in pixels</p></dd>
      <dt>.unscaled_width<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">width of the image before any calls to :rescale()</p></dd>
      <dt>.unscaled_height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">height of the image before any calls to :rescale()</p></dd>
      <dt>.crop_rect</dt>
<dd>
<p class="description">specifies a portion of the image to be drawn</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
      <dt>.tint_color</dt>
<dd>
<p class="description">scale the color and opacity by this value when drawing</p>
<p class="note">default is (r=1, g=1, b=1, a=1) </p>
<p class="note">only available in OpenGL renderer </p>
</dd>
      <dt>.rotation</dt>
<dd>
<p class="description">degrees to rotate the image when drawn</p>
<p class="note">axis of rotation is about the center of the drawn area </p>
<p class="note">only available in OpenGL renderer </p>
</dd>
      <dt>:rescale(width, height)</dt>
<dd><p class="description">resize image to specified width and height</p></dd>
      <dt>:draw(x, y)</dt>
<dd><p class="description">draw image (or cropped portion) to screen, with top left corner at specified position</p></dd>
    </dl></dd>
</dl>
<h3>
<a name="Level"></a>Level</h3>
<dl>
<dt>Level</dt>
<dd>
<p class="note">all items in Level are read-only </p>
<dl>
<dt>.name <span class="version">20150619</span>
</dt>
<dd><p class="description">level name</p></dd>
<dt>.index <span class="version">20150619</span>
</dt>
<dd><p class="description">level index in the map file (starting from 0)</p></dd>
<dt>.map_checksum <span class="version">20150619</span>
</dt>
<dd><p class="description">checksum of map file</p></dd>
<dt>.stash[key] <span class="version">git</span>
</dt>
<dd>
<p class="description">reads values from a stash shared between all running Lua scripts</p>
<p class="note">keys/values must be strings </p>
</dd>
</dl>
</dd>
</dl>
<h3>
<a name="Lighting"></a>Lighting</h3>
<dl>
<dt>Lighting</dt>
<dd>
<p class="note">All items in Lighting are read-only </p>
<dl>
<dt>.ambient_light</dt>
<dd><p class="description">light level in current location, from 0 to 1</p></dd>
<dt>.weapon_flash</dt>
<dd><p class="description">current brightness of weapons fire, from 0 to 1</p></dd>
<dt>.liquid_fader<br>.damage_fader</dt>
<dd>
<p class="note">faders only available in OpenGL, when "Color Effects" are enabled </p>
<dl>
<dt>.active</dt>
<dd><p class="description">true if fade effect is being drawn</p></dd>
<dt>.color</dt>
<dd><p class="description">color used for this fade effect</p></dd>
<dt>.type</dt>
<dd><p class="description">which fade effect type is used</p></dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<h3>
<a name="Player"></a>Player</h3>
<dl>
<dt>Player</dt>
<dd>
<p class="note">All items in Player are read-only </p>
<dl>
<dt>.color</dt>
<dd><p class="description">color of player (shirt color, if teams are enabled)</p></dd>
<dt>.dead</dt>
<dd><p class="description">whether player is dead</p></dd>
<dt>.direction<br>.yaw</dt>
<dd>
<p class="description">direction player is facing, in degrees</p>
<p class="note">0 is east, 90 is south </p>
</dd>
<dt>.elevation<br>.pitch</dt>
<dd><p class="description">angle player is looking up or down</p></dd>
<dt>.velocity</dt>
<dd><dl>
<dt>.forward <span class="version">20111201</span>
</dt>
<dd>
<p class="description">player's forward/backward velocity, from internal and external forces</p>
<p class="note">in WU per tick; positive values mean forward movement </p>
</dd>
<dt>.perpendicular <span class="version">20111201</span>
</dt>
<dd>
<p class="description">player's left/right velocity</p>
<p class="note">in WU per tick; positive values mean rightward movement </p>
</dd>
<dt>.vertical <span class="version">20111201</span>
</dt>
<dd>
<p class="description">player's up/down velocity</p>
<p class="note">in WU per tick; positive values mean upward movement </p>
</dd>
</dl></dd>
<dt>.energy<br>.life</dt>
<dd><p class="description">amount of suit energy player has (150 is normal red health)</p></dd>
<dt>.microphone_active</dt>
<dd><p class="description">true if netmic is on</p></dd>
<dt>.inventory_sections</dt>
<dd><dl>
<dt>.current</dt>
<dd>
<p class="description">which section of the inventory to display</p>
<p class="note">HUD themes can choose to display multiple sections simultaneously </p>
</dd>
</dl></dd>
<dt>
    .inventory_sections[section_type]</dt>
<dd><dl>
<dt>.name</dt>
<dd><p class="description"></p></dd>
<dt>.type</dt>
<dd><p class="description"></p></dd>
</dl></dd>
<dt>
    .items[item_type]</dt>
<dd><dl>
<dt>.count</dt>
<dd><p class="description">how many of item the player is carrying</p></dd>
<dt>.inventory_section</dt>
<dd><p class="description">which section of the inventory should display this item</p></dd>
<dt>.plural</dt>
<dd>
<p class="description">label to use for more than 1 of the item</p>
<p class="note">from stringset 150 </p>
</dd>
<dt>.singular</dt>
<dd>
<p class="description">label to use for 1 of the item</p>
<p class="note">from stringset 150 </p>
</dd>
<dt>.type</dt>
<dd><p class="description"></p></dd>
<dt>.valid <span class="version">20140104</span>
</dt>
<dd><p class="description">whether item is valid in the current environment (i.e. vacuum)</p></dd>
</dl></dd>
<dt>.compass</dt>
<dd><dl>
<dt>.ne<br>.northeast</dt>
<dd><p class="description">whether north east compass quadrant is active</p></dd>
<dt>.nw<br>.northwest</dt>
<dd><p class="description">whether north west compass quadrant is active</p></dd>
<dt>.se<br>.southeast</dt>
<dd><p class="description">whether south east compass quadrant is active</p></dd>
<dt>.sw<br>.southwest</dt>
<dd><p class="description">whether south west compass quadrant is active</p></dd>
</dl></dd>
<dt>.motion_sensor</dt>
<dd><dl>
<dt>.active</dt>
<dd>
<p class="description">whether player can view his motion sensor</p>
<p class="note">currently, this also indicates compass visibility </p>
</dd>
<dt>.blips[index]</dt>
<dd><dl>
<dt>.direction<br>.yaw</dt>
<dd>
<p class="description">direction relative to player, in degrees</p>
<p class="note">0 is to player's right, 90 is directly behind player </p>
</dd>
<dt>.distance</dt>
<dd><p class="description">distance from player, in WU (maximum is 8)</p></dd>
<dt>.intensity</dt>
<dd><p class="description">from 0 (strongest) to 5 (weakest)</p></dd>
<dt>.type</dt>
<dd>
<p class="description"></p>
<p class="note">see "Sensor Blip Types" for mnemonics </p>
</dd>
</dl></dd>
</dl></dd>
<dt>.name</dt>
<dd><p class="description">player's name</p></dd>
<dt>.oxygen</dt>
<dd><p class="description">amount of oxygen player has (max is 10800)</p></dd>
<dt>.respawn_duration <span class="version">20140104</span>
</dt>
<dd>
<p class="description">ticks remaining before dead player can revive</p>
<p class="note">nil until player is completely dead </p>
</dd>
<dt>.team</dt>
<dd><p class="description">player's team (pants color)</p></dd>
<dt>.texture_palette</dt>
<dd><dl>
<dt>.highlight</dt>
<dd>
<p class="description">number of slot to highlight</p>
<p class="note">can be nil </p>
</dd>
<dt>.size</dt>
<dd>
<p class="description">how many slots the palette is using</p>
<p class="note">the texture palette is normally visible whenever the size is greater than 0 </p>
</dd>
<dt>.slots[n]</dt>
<dd><dl>
<dt>.collection</dt>
<dd><p class="description">collection of this slot</p></dd>
<dt>.texture_index</dt>
<dd><p class="description">texture index of this slot</p></dd>
<dt>.type</dt>
<dd><p class="description">texture type of this slot such as wall or sprite; see "Texture Types"</p></dd>
</dl></dd>
</dl></dd>
<dt>.weapons</dt>
<dd><dl>
<dt>.current</dt>
<dd>
<p class="description">weapon the player is currently wielding</p>
<p class="note">can be nil </p>
</dd>
<dt>.desired</dt>
<dd>
<p class="description">weapon the player wants to switch to</p>
<p class="note">can be nil </p>
</dd>
</dl></dd>
<dt>
    .weapons[weapon_type]</dt>
<dd><dl>
<dt>.name <span class="version">20111201</span>
</dt>
<dd>
<p class="description">label shown in classic HUD</p>
<p class="note">from stringset 137; may differ from label in Player.items </p>
</dd>
<dt>.name_rect <span class="version">20140104</span>
</dt>
<dd>
<p class="description">position of label in classic HUD</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.primary<br>.secondary</dt>
<dd><dl>
<dt>.ammo_type</dt>
<dd><p class="description"></p></dd>
<dt>.bullet_display <span class="version">20140104</span>
</dt>
<dd>
<p class="note">can be nil </p>
<dl>
<dt>.across</dt>
<dd><p class="description">number of bullets in a single row</p></dd>
<dt>.down</dt>
<dd><p class="description">number of bullet rows</p></dd>
<dt>.empty_texture_index</dt>
<dd><p class="description"></p></dd>
<dt>.height</dt>
<dd><p class="description">height of a single bullet in classic HUD</p></dd>
<dt>.right_to_left</dt>
<dd><p class="description"></p></dd>
<dt>.texture_index</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description">width of a single bullet in classic HUD</p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.energy_display <span class="version">20140104</span>
</dt>
<dd>
<p class="note">can be nil </p>
<dl>
<dt>.color</dt>
<dd><p class="description">the interface color for drawing the full region and border</p></dd>
<dt>.empty_color</dt>
<dd><p class="description">the interface color for drawing the empty region</p></dd>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.maximum</dt>
<dd>
<p class="description"></p>
<p class="note">should usually match total_rounds </p>
</dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.rounds</dt>
<dd><p class="description">how many rounds are currently loaded into the weapon</p></dd>
<dt>.total_rounds</dt>
<dd><p class="description">how many rounds can be loaded into the weapon</p></dd>
<dt>.weapon_drawn</dt>
<dd><p class="description"></p></dd>
</dl></dd>
<dt>.shape <span class="version">20140104</span><br>.multiple_shape<br>.multiple_unused_shape</dt>
<dd>
<p class="note">can be nil </p>
<dl>
<dt>.texture_index</dt>
<dd><p class="description">frame in Interface collection</p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.type</dt>
<dd><p class="description"></p></dd>
</dl></dd>
<dt>.zoom_active</dt>
<dd><p class="description">whether player's sniper zoom is active</p></dd>
</dl>
</dd>
</dl>
<h3>
<a name="Screen"></a>Screen</h3>
<dl>
<dt>Screen</dt>
<dd><dl>
<dt>.width<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">width of the available screen area</p></dd>
<dt>.height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">height of the available screen area</p></dd>
<dt>.field_of_view</dt>
<dd><dl>
<dt>.fix_h_not_v</dt>
<dd><p class="description">whether horizontal or vertical FOV is adjusted as aspect ratio changes</p></dd>
<dt>.horizontal</dt>
<dd><p class="description"></p></dd>
<dt>.vertical</dt>
<dd><p class="description"></p></dd>
</dl></dd>
<dt>.crosshairs</dt>
<dd><dl>
<dt>.active<span class="access"> (read-only)</span> <span class="version">20111201</span>
</dt>
<dd><p class="description">whether crosshairs are visible</p></dd>
<dt>.lua_hud <span class="version">20111201</span>
</dt>
<dd><p class="description">whether the Lua HUD script draws the crosshairs</p></dd>
</dl></dd>
<dt>.renderer<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">which renderer is in use</p></dd>
<dt>.map_active<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">whether the overhead map is currently displayed</p></dd>
<dt>.map_overlay_active<span class="access"> (read-only)</span> <span class="version">20111201</span>
</dt>
<dd><p class="description">whether the "Overlay Map" preference is enabled</p></dd>
<dt>.term_active<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">whether a terminal is currently displayed</p></dd>
<dt>.hud_size_preference<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">current preference setting for HUD size (normal, double, largest)</p></dd>
<dt>.term_size_preference<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">current preference setting for terminal size (normal, double, largest)</p></dd>
<dt>.masking_mode</dt>
<dd>
<p class="description">image-based masking; set to drawing mode to create visible areas and enabled to use the mask</p>
<p class="note">masking only available in OpenGL renderer </p>
</dd>
<dt>.clip_rect</dt>
<dd>
<p class="description">constrain drawing to the specified area of the screen</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.world_rect</dt>
<dd>
<p class="description">specifies the area of the screen for the 3D game view</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.map_rect</dt>
<dd>
<p class="description">specifies the area of the screen for the overhead map</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.term_rect</dt>
<dd>
<p class="description">specifies the area of the screen for displaying terminals</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.text_margins <span class="version">git</span>
</dt>
<dd>
<p class="description">specifies margins from the edges of the world_rect for drawing text such as Lua overlays, messages, and the input console</p>
<dl>
<dt>.bottom</dt>
<dd><p class="description"></p></dd>
<dt>.left</dt>
<dd><p class="description"></p></dd>
<dt>.right</dt>
<dd><p class="description"></p></dd>
<dt>.top</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
<dt>.clear_mask()</dt>
<dd><p class="description">reset the image-based mask</p></dd>
<dt>.fill_rect(x, y, width, height, color)</dt>
<dd><p class="description">draws a solid rectangle to the screen</p></dd>
<dt>.frame_rect(x, y, width, height, color, thickness)</dt>
<dd>
<p class="description">draws an outlined rectangle to the screen</p>
<ul class="args"><li>thickness: outline size in pixels</li></ul>
<p class="note">the outline is drawn entirely inside the given bounds </p>
</dd>
</dl></dd>
</dl>
<h3>
<a name="Shapes"></a>Shapes</h3>
<dl>
<dt>Shapes.new{collection=, texture_index= [, type=] [, color_table=]}</dt>
<dd>
<p class="description">all arguments are passed by name; returns shape or nil</p>
<ul class="args">
<li>collection: the shape collection</li>
<li>texture_index: frame (not bitmap) index</li>
<li>type: type such as wall or sprite; see "Texture Types"</li>
<li>color_table: color table index</li>
</ul>
</dd>
<dt>Shapes[index]</dt>
<dd><dl>
      <dt>.width<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">width of the shape in pixels</p></dd>
      <dt>.height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">height of the shape in pixels</p></dd>
      <dt>.unscaled_width<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">width of the shape before any calls to :rescale()</p></dd>
      <dt>.unscaled_height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description">height of the shape before any calls to :rescale()</p></dd>
      <dt>.crop_rect</dt>
<dd>
<p class="description">specifies a portion of the shape to be drawn</p>
<dl>
<dt>.height</dt>
<dd><p class="description"></p></dd>
<dt>.width</dt>
<dd><p class="description"></p></dd>
<dt>.x</dt>
<dd><p class="description"></p></dd>
<dt>.y</dt>
<dd><p class="description"></p></dd>
</dl>
</dd>
      <dt>.tint_color</dt>
<dd>
<p class="description">scale the color and opacity by this value when drawing</p>
<p class="note">default is (r=1, g=1, b=1, a=1) </p>
<p class="note">only available in OpenGL renderer </p>
</dd>
      <dt>.rotation</dt>
<dd>
<p class="description">degrees to rotate the shape when drawn</p>
<p class="note">axis of rotation is about the center of the drawn area </p>
<p class="note">only available in OpenGL renderer </p>
</dd>
      <dt>:rescale(width, height)</dt>
<dd><p class="description">resize shape to specified width and height</p></dd>
      <dt>:draw(x, y)</dt>
<dd><p class="description">draw shape (or cropped portion) to screen, with top left corner at specified position</p></dd>
    </dl></dd>
</dl>
</div>
<h1>
<a name="types"></a>Types and Mnemonics</h1>
<div class="tables">
<h3>
<a name="Collections"></a>Collections</h3>
<dl>
<dt># Collections</dt>
<dt>Collections()</dt>
<dt>Collections[collection]</dt>
<dd><dl>
      <dt>.bitmap_count</dt>
<dd><p class="description">number of bitmaps in collection</p></dd>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      
    </dl></dd>
</dl>
<h4>Mnemonics</h4>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"interface"</li>
<li>"weapons in hand"</li>
<li>"juggernaut"</li>
<li>"tick"</li>
<li>"explosions"</li>
<li>"hunter"</li>
<li>"player"</li>
<li>"items"</li>
<li>"trooper"</li>
<li>"fighter"</li>
<li>"defender"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"yeti"</li>
<li>"bob"</li>
<li>"vacbob"</li>
<li>"enforcer"</li>
<li>"drone"</li>
<li>"compiler"</li>
<li>"water"</li>
<li>"lava"</li>
<li>"sewage"</li>
<li>"jjaro"</li>
<li>"pfhor"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"water scenery"</li>
<li>"lava scenery"</li>
<li>"sewage scenery"</li>
<li>"jjaro scenery"</li>
<li>"pfhor scenery"</li>
<li>"day"</li>
<li>"night"</li>
<li>"moon"</li>
<li>"space"</li>
<li>"cyborg"</li>
</ul></div>
<div class="end-mnemonics"></div>
<h3>
<a name="DifficultyTypes"></a>Difficulty</h3>
<dl>
<dt># DifficultyTypes</dt>
<dt>DifficultyTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"kindergarten"</li>
<li>"easy"</li>
<li>"normal"</li>
<li>"major damage"</li>
<li>"total carnage"</li>
</ul>
<h3>
<a name="FadeEffectTypes"></a>Fade Effect Types</h3>
<dl>
<dt># FadeEffectTypes</dt>
<dt>FadeEffectTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"tint"</li>
<li>"randomize"</li>
<li>"negate"</li>
<li>"dodge"</li>
<li>"burn"</li>
<li>"soft tint"</li>
</ul>
<h3>
<a name="GameTypes"></a>Game Types</h3>
<dl>
<dt># GameTypes</dt>
<dt>GameTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"kill monsters"</li>
<li>"cooperative play"</li>
<li>"capture the flag"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"king of the hill"</li>
<li>"kill the man with the ball"</li>
<li>"defense"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"rugby"</li>
<li>"tag"</li>
<li>"netscript"</li>
</ul></div>
<div class="end-mnemonics"></div>
<h3>
<a name="InterfaceColors"></a>Interface Colors <span class="version">20140104</span>
</h3>
<dl>
<dt># InterfaceColors</dt>
<dt>InterfaceColors()</dt>
<dt>InterfaceColors[interface_color]</dt>
<dd><dl>
      <dt>.r<span class="access"> (read-only)</span><br>.red<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.g<span class="access"> (read-only)</span><br>.green<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.b<span class="access"> (read-only)</span><br>.blue<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.a<span class="access"> (read-only)</span><br>.alpha<span class="access"> (read-only)</span>
</dt>
<dd>
<p class="description"></p>
<p class="note">alpha is always 1 </p>
</dd>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      
    </dl></dd>
</dl>
<h4>Mnemonics</h4>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"ammo box full"</li>
<li>"ammo box empty"</li>
<li>"black"</li>
<li>"inventory text"</li>
<li>"inventory header background"</li>
<li>"inventory background"</li>
<li>"slate player"</li>
<li>"red player"</li>
<li>"violet player"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"yellow player"</li>
<li>"white player"</li>
<li>"orange player"</li>
<li>"blue player"</li>
<li>"green player"</li>
<li>"white"</li>
<li>"invalid weapon"</li>
<li>"computer border text background"</li>
<li>"computer border text"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"computer text"</li>
<li>"computer white text"</li>
<li>"computer red text"</li>
<li>"computer dark green text"</li>
<li>"computer cyan text"</li>
<li>"computer yellow text"</li>
<li>"computer dark red text"</li>
<li>"computer blue text"</li>
</ul></div>
<div class="end-mnemonics"></div>
<h3>
<a name="InterfaceFonts"></a>Interface Fonts <span class="version">20140104</span>
</h3>
<dl>
<dt># InterfaceFonts</dt>
<dt>InterfaceFonts()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"interface"</li>
<li>"weapon name"</li>
<li>"player name"</li>
<li>"interface item count"</li>
<li>"terminal"</li>
<li>"terminal title"</li>
<li>"network statistics"</li>
</ul>
<h3>
<a name="InterfaceRects"></a>Interface Rectangles <span class="version">20140104</span>
</h3>
<dl>
<dt># InterfaceRects</dt>
<dt>InterfaceRects()</dt>
<dt>InterfaceRects[interface_rect]</dt>
<dd><dl>
      <dt>.x<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.y<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.width<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      <dt>.height<span class="access"> (read-only)</span>
</dt>
<dd><p class="description"></p></dd>
      
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      
    </dl></dd>
</dl>
<h4>Mnemonics</h4>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"player name"</li>
<li>"oxygen"</li>
<li>"shield"</li>
<li>"motion sensor"</li>
<li>"microphone"</li>
<li>"inventory"</li>
<li>"weapon display"</li>
<li>"new-game button"</li>
<li>"load-game button"</li>
<li>"gather button"</li>
<li>"join button"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"preferences button"</li>
<li>"replay button"</li>
<li>"save-last button"</li>
<li>"replace-saved button"</li>
<li>"credits button"</li>
<li>"quit button"</li>
<li>"center button"</li>
<li>"unused 18"</li>
<li>"unused 19"</li>
<li>"terminal screen"</li>
<li>"terminal header"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"terminal footer"</li>
<li>"terminal full text"</li>
<li>"terminal left"</li>
<li>"terminal right"</li>
<li>"terminal logon graphic"</li>
<li>"terminal logon title"</li>
<li>"terminal logon location"</li>
<li>"respawn indicator"</li>
<li>"blinker"</li>
</ul></div>
<div class="end-mnemonics"></div>
<h3>
<a name="InventorySections"></a>Inventory Sections</h3>
<dl>
<dt># InventorySections</dt>
<dt>InventorySections()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"weapons"</li>
<li>"ammunition"</li>
<li>"powerups"</li>
<li>"items"</li>
<li>"weapon powerups"</li>
<li>"balls"</li>
<li>"network statistics"</li>
</ul>
<h3>
<a name="ItemTypes"></a>Items</h3>
<dl>
<dt># ItemTypes</dt>
<dt>ItemTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"knife"</li>
<li>"pistol"</li>
<li>"pistol ammo"</li>
<li>"fusion pistol"</li>
<li>"fusion pistol ammo"</li>
<li>"assault rifle"</li>
<li>"assault rifle ammo"</li>
<li>"assault rifle grenades"</li>
<li>"missile launcher"</li>
<li>"missile launcher ammo"</li>
<li>"invisibility"</li>
<li>"invincibility"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"infravision"</li>
<li>"alien weapon"</li>
<li>"alien weapon ammo"</li>
<li>"flamethrower"</li>
<li>"flamethrower ammo"</li>
<li>"extravision"</li>
<li>"oxygen"</li>
<li>"single health"</li>
<li>"double health"</li>
<li>"triple health"</li>
<li>"shotgun"</li>
<li>"shotgun ammo"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"key"</li>
<li>"uplink chip"</li>
<li>"light blue ball"</li>
<li>"ball"</li>
<li>"violet ball"</li>
<li>"yellow ball"</li>
<li>"brown ball"</li>
<li>"orange ball"</li>
<li>"blue ball"</li>
<li>"green ball"</li>
<li>"smg"</li>
<li>"smg ammo"</li>
</ul></div>
<div class="end-mnemonics"></div>
<h3>
<a name="MaskingModes"></a>Masking Modes</h3>
<dl>
<dt># MaskingModes</dt>
<dt>MaskingModes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"disabled"</li>
<li>"enabled"</li>
<li>"drawing"</li>
<li>"erasing"</li>
</ul>
<h3>
<a name="PlayerColors"></a>Player and Team Colors</h3>
<dl>
<dt># PlayerColors</dt>
<dt>PlayerColors()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"slate"</li>
<li>"red"</li>
<li>"violet"</li>
<li>"yellow"</li>
<li>"white"</li>
<li>"orange"</li>
<li>"blue"</li>
<li>"green"</li>
</ul>
<h3>
<a name="RendererTypes"></a>Renderer Types</h3>
<dl>
<dt># RendererTypes</dt>
<dt>RendererTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"software"</li>
<li>"opengl"</li>
<li>"shader"</li>
</ul>
<h3>
<a name="ScoringModes"></a>Scoring Modes</h3>
<dl>
<dt># ScoringModes</dt>
<dt>ScoringModes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"most points"</li>
<li>"most time"</li>
<li>"least points"</li>
<li>"least time"</li>
</ul>
<h3>
<a name="SensorBlipTypes"></a>Sensor Blip Types</h3>
<dl>
<dt># SensorBlipTypes</dt>
<dt>SensorBlipTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"friend"</li>
<li>"alien"</li>
<li>"hostile player"</li>
</ul>
<h3>
<a name="SizePreferences"></a>Size Preferences</h3>
<dl>
<dt># SizePreferences</dt>
<dt>SizePreferences()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"normal"</li>
<li>"double"</li>
<li>"largest"</li>
</ul>
<h3>
<a name="TextureTypes"></a>Texture Types</h3>
<dl>
<dt># TextureTypes</dt>
<dt>TextureTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<ul class="mnemonics">
<li>"wall"</li>
<li>"landscape"</li>
<li>"sprite"</li>
<li>"weapon in hand"</li>
<li>"interface"</li>
</ul>
<h3>
<a name="WeaponTypes"></a>Weapons</h3>
<dl>
<dt># WeaponTypes</dt>
<dt>WeaponTypes()</dt>
</dl>
<h4>Mnemonics</h4>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"fist"</li>
<li>"pistol"</li>
<li>"fusion pistol"</li>
<li>"assault rifle"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"missile launcher"</li>
<li>"flamethrower"</li>
<li>"alien weapon"</li>
<li>"shotgun"</li>
</ul></div>
<div class="mnemonics-column"><ul class="mnemonics">
<li>"ball"</li>
<li>"smg"</li>
</ul></div>
<div class="end-mnemonics"></div>
</div>
</body>
</html>
